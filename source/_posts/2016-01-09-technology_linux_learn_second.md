---
title: linux学习笔记二
date: 2016-01-09 17:23:07
tags: linux
categories: 技术
---

linux学习笔记二 <!-- more -->

## linux常用基础命令

* ls：列出当前目录下的所有目录和文件。注意：以d开头的都是目录、已-开头的都是文件、具体参数就不说了
* cd：进入目录
* pwd：当前路径是什么
* mkdir：创建目录
* rmdir：删除为空的目录、如何要删除不为空的目录、使用```rm -rf```
* touch：创建文件、从技术角度讲、Linux中文件的后缀名完全没意义、只有提示意义
* rm：删除文件
	* rm -r：递归删除文件、会一步一步问你是否删除
	* rm -rf：强制删除文件、不用问我、直接删除、也可删除不为空的目录
* cp：拷贝
* mv：移动
* vi：文本编辑器
	* i：刚进入文本编辑器、输入i进入编辑模式
    * o：小写o往下插入一行、并且进入编辑模式
	* O：大写O往上插入一行、且进入编辑模式
	* dd：删除整行
	* dw：删除一个单词
	* :q：直接退出vim
	* :q!：强制退出vim
	* :qw：保存当前编辑、退出vim
	* 等等
* 打印文件
	* cat：正序查看文件内容
	* tac：倒叙查看文件内容
	* head：可以指定查看内容如```head -3 文件名```打印前三行
	* more：直接打印文件
* find：查文件。```find / -name xxx```可以全局查找、也可制定目录查找文件
* whereis： 命令查找、如```whereis ls```就会查找ls命令和帮助文档所在目录还有
* echo：打印命令、如```echo $path```就会输出所有的环境变量```echo $classpath```就会输出java的环境变量、windows下面类似```echo %path%```或者```echo %classpath%```。
* ln：链接命令
	* ln：硬链接、相当于将文件拷贝一份、且关联起来、如```ln a.txt 4```会将a.txt的文件指向4、且两者内容关联、改一个、另一个就会变
	* ls -s：软链接相、当于快捷方式```ln -s a.txt 4```给a.txt创建一个快捷方式4、如果删除a.txt、4就输出不了了、ln可以

## linux简单用户管理

### useradd：添加用户

#### 直接添加用户

```useradd testuser```、创建一个testuser用户、进入```/home```查看、就会发现多出了一个testuser用户文件夹、这个是系统自己新建的、同时```/etc/passwd```文件下面会出现testuser的信息、(passwd文件存储的是所有的用户信息)、```/etc/group```下也会有该用户的testuser的用户组信息、(添加用户的时候、如果不添加用户组信息、那么linux会自动给testuser添加一个组信息)

#### 添加用户同时、指定用户的分组

添加用户的时候、也可以指定用户的分组信息、比如现阶段有一个用户组叫做testgroup、那么就可以```useradd testuser -g testgroup```、这样就可以将该用户分配到该用户组下面了

#### 修改用户分组

``` usermod -g testgroup2 testuser  ``` 就可将原来testgroup用户组下面的testuser分配到testgroup2用户组下面

### groupadd：添加用户组

添加用户分组、比如```groupadd testgroup```就新建了一个用户组、```/etc/group```下面就会有testgroup分组信息

当一个用户登陆时、默认用户就是该用户的主目录

## 文件的类型及权限解释

为了更加形象的讲解、引入如下图片进行解释

![展示图片](http://7xpjaq.com1.z0.glb.clouddn.com/20160111160137.png)

### 解释
文件的类型及权限解释共有10个字母、除了第一个字幕代表的是文件类型外、其他的九个都代表该文件的权限解释、分三组、每组三个字母

### 文件类型含义

文件类型是红颜色框起来的、表示文件类型、解释如下

* -：代表文件
* l：代表链接
* d：代表目录

### 文件权限的含义

其他九个字母都表示文件的权限解释

* r：read
* w：write
* -：没有任何权限
* x：执行权限

### 文件分组的含义

* 第一组：黄色圈起来的三个字母、表示文件所有者对该文件的权限
* 第二组：粉红色圈起来的三个字母、表示这个文件所有者同组的其他人对该文件的权限
* 第三组：蓝色圈起来的三个字母、表示剩下的人对这个文件有什么权限

## 修改文件权限及所有者

### 修改文件权限

#### 普通修改方法

引入图片如下：

![展示图片](http://7xpjaq.com1.z0.glb.clouddn.com/20160111162956.png)

通过``` chmod +x a  ```、表示给a文件的所有用户添加可执行权限、```chmod -x a```表示将所有用户的执行权限去除

如果只想给指定的用户修改权限怎么办？如下。

* 当前用户：```chmod u+x a```、给当前用户添加可执行权限、u代表当前user、当前用户
* 同组其他用户：```chmod g+x a```、给同组其他用户加可执行权限、g表示group、同组其他用户
* 其他用户：```chmod o+x a```、给其他人加可执行权限、o表示others、其他用户

#### 专业用法

linux内部使用三个八进制数字表示文件的一组权限、三组三个加起来就是九位。所以Linux就是用9位来代表一个文件的所有权限。说起来比较麻烦、专门做了两个图片、如下：

![展示图片](http://7xpjaq.com1.z0.glb.clouddn.com/20160111170719.png)

![展示图片](http://7xpjaq.com1.z0.glb.clouddn.com/20160111172259.png)

感觉这样表示、大家就应该很清楚了。

### 修改文件所有者

引入图片如下：

![展示图片](http://7xpjaq.com1.z0.glb.clouddn.com/20160111165640.png)

使用```chown root a```、就可将a文件的所有者```testuser1```改成```root```了